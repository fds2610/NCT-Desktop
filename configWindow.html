<!DOCTYPE html>
<html lang="de">
<head>
	<title>Config NCT Tray Notifier</title>
	<meta http-equiv="Content-Security-Policy" content="default-src 'unsafe-inline'" >
	<script>
		const electron = require('electron');
		const {ipcRenderer} = electron;
		console.debug(document);
		function changeVal(i,v){
			console.log(i + ' : ' + v);
			const {ipcRenderer} = require('electron');
			
			let newcontent = "[Nextcloud-Talk]\n" + 'ncurl:' + document.getElementById('ncurl').value + '\nncuser:' + document.getElementById('ncuser').value + '\nncpwd:' + document.getElementById('ncpwd').value + "\n";
			ipcRenderer.send('configChange', newcontent );
			console.log(newcontent);
		}

	</script>
</head>
<body>
<div>
	<form id="configList">
	<h3>Config Settings</h3>
	<input type="text" id="ncurl" onchange="changeVal(this.id,this.value);" autofocus><label>&nbsp;Nextcloud URL (https://...)</label><br><br>
	<input type="text" id="ncuser" onchange="changeVal(this.id,this.value);"><label>&nbsp;Nextcloud UserID</label><br><br>
	<input type="password" id="ncpwd" onchange="changeVal(this.id,this.value);"><label>&nbsp;Nextcloud Password</label><br><br>
	</form>
	
</div>
</body>
</html>
